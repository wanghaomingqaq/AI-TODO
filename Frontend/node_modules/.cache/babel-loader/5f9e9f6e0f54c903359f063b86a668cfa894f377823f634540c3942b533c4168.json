{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"DoRegister\",\n  data() {\n    return {\n      user: {\n        username: \"\",\n        email: \"\",\n        password: \"\"\n      }\n    };\n  },\n  created() {\n    // console.log($);\n    // console.log(\"1111\");\n  },\n  methods: {\n    doRegister() {\n      if (!this.user.username) {\n        this.$message.error(\"请输入用户名！\");\n        return;\n      } else if (!this.user.email) {\n        this.$message.error(\"请输入邮箱！\");\n        return;\n      } else if (this.user.email != null) {\n        var reg = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n        if (!reg.test(this.user.email)) {\n          this.$message.error(\"请输入有效的邮箱！\");\n        } else if (!this.user.password) {\n          this.$message.error(\"请输入密码！\");\n          return;\n        } else {\n          // this.$router.push({ path: \"/\" }); //无需向后台提交数据，方便前台调试\n          axios.post(\"/login/\", {\n            msgid: 3,\n            name: this.user.username,\n            password: this.user.password\n          }).then(res => {\n            // console.log(\"输出response.data\", res.data);\n            // console.log(\"输出response.data.status\", res.data.status);\n            if (res.data.status === 200) {\n              this.$router.push({\n                path: \"/\"\n              });\n            } else {\n              alert(\"您输入的用户名已存在！\");\n            }\n          });\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","user","username","email","password","created","methods","doRegister","$message","error","reg","test","post","msgid","then","res","status","$router","push","path","alert"],"sources":["/home/workspace/vueProject/my-vue-project/src/components/DoRegister.vue"],"sourcesContent":["<template>\n    <div class=\"login clearfix\">\n      <div class=\"login-wrap\">\n        <el-row type=\"flex\" justify=\"center\">\n          <el-form ref=\"loginForm\" :model=\"user\" status-icon label-width=\"80px\">\n            <h3>注册</h3>\n            <hr>\n            <el-form-item prop=\"username\" label=\"用户名\">\n              <el-input v-model=\"user.username\" placeholder=\"请输入用户名\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"email\" label=\"邮箱\">\n              <el-input v-model=\"user.email\" placeholder=\"请输入邮箱\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\" label=\"设置密码\">\n              <el-input v-model=\"user.password\" show-password placeholder=\"请输入密码\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" icon @click=\"doRegister()\">注册账号</el-button>\n            </el-form-item>\n          </el-form>\n        </el-row>\n      </div>\n    </div>\n  </template>\n   \n  <script>\n  import axios from \"axios\";\n  export default {\n    name: \"DoRegister\",\n    data() {\n      return {\n        user: {\n          username: \"\",\n          email: \"\",\n          password: \"\"\n        },\n      };\n    },\n    created() {\n      // console.log($);\n      // console.log(\"1111\");\n    },\n    methods: {\n      doRegister() {\n        if (!this.user.username) {\n          this.$message.error(\"请输入用户名！\");\n          return;\n        } else if (!this.user.email) {\n          this.$message.error(\"请输入邮箱！\");\n          return;\n        } else if (this.user.email != null) {\n          var reg = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n          if (!reg.test(this.user.email)) {\n            this.$message.error(\"请输入有效的邮箱！\");\n          } else if (!this.user.password) {\n            this.$message.error(\"请输入密码！\");\n            return;\n          } else {\n            // this.$router.push({ path: \"/\" }); //无需向后台提交数据，方便前台调试\n            axios\n              .post(\"/login/\", {\n                msgid:3,\n                name: this.user.username,\n                password: this.user.password\n              })\n              .then(res => {\n                // console.log(\"输出response.data\", res.data);\n                // console.log(\"输出response.data.status\", res.data.status);\n                if (res.data.status === 200) {\n                  this.$router.push({ path: \"/\" });\n                } else {\n                  alert(\"您输入的用户名已存在！\");\n                }\n              });\n          }\n        }\n      }\n    }\n  };\n  </script>\n   \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped>\n  .login {\n    width: 100%;\n    height: 740px;\n    background: url(\"../assets/images/bg1.png\") no-repeat;\n    background-size: cover;\n    overflow: hidden;\n  }\n  .login-wrap {\n    background: url(\"../assets/images/login_bg.png\") no-repeat;\n    background-size: cover;\n    width: 400px;\n    height: 300px;\n    margin: 215px auto;\n    overflow: hidden;\n    padding-top: 10px;\n    line-height: 20px;\n  }\n   \n  h3 {\n    color: #0babeab8;\n    font-size: 24px;\n  }\n  hr {\n    background-color: #444;\n    margin: 20px auto;\n  }\n   \n  .el-button {\n    width: 80%;\n    margin-left: -50px;\n  }\n  </style>"],"mappings":";AA0BE,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,QAAQ,EAAE,EAAE;QACZC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE;MACZ;IACF,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA;EAAA,CACD;EACDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACX,IAAI,CAAC,IAAI,CAACN,IAAI,CAACC,QAAQ,EAAE;QACvB,IAAI,CAACM,QAAQ,CAACC,KAAK,CAAC,SAAS,CAAC;QAC9B;MACF,OAAO,IAAI,CAAC,IAAI,CAACR,IAAI,CAACE,KAAK,EAAE;QAC3B,IAAI,CAACK,QAAQ,CAACC,KAAK,CAAC,QAAQ,CAAC;QAC7B;MACF,OAAO,IAAI,IAAI,CAACR,IAAI,CAACE,KAAI,IAAK,IAAI,EAAE;QAClC,IAAIO,GAAE,GAAI,+DAA+D;QACzE,IAAI,CAACA,GAAG,CAACC,IAAI,CAAC,IAAI,CAACV,IAAI,CAACE,KAAK,CAAC,EAAE;UAC9B,IAAI,CAACK,QAAQ,CAACC,KAAK,CAAC,WAAW,CAAC;QAClC,OAAO,IAAI,CAAC,IAAI,CAACR,IAAI,CAACG,QAAQ,EAAE;UAC9B,IAAI,CAACI,QAAQ,CAACC,KAAK,CAAC,QAAQ,CAAC;UAC7B;QACF,OAAO;UACL;UACAX,KAAI,CACDc,IAAI,CAAC,SAAS,EAAE;YACfC,KAAK,EAAC,CAAC;YACPd,IAAI,EAAE,IAAI,CAACE,IAAI,CAACC,QAAQ;YACxBE,QAAQ,EAAE,IAAI,CAACH,IAAI,CAACG;UACtB,CAAC,EACAU,IAAI,CAACC,GAAE,IAAK;YACX;YACA;YACA,IAAIA,GAAG,CAACf,IAAI,CAACgB,MAAK,KAAM,GAAG,EAAE;cAC3B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;gBAAEC,IAAI,EAAE;cAAI,CAAC,CAAC;YAClC,OAAO;cACLC,KAAK,CAAC,aAAa,CAAC;YACtB;UACF,CAAC,CAAC;QACN;MACF;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}