{"ast":null,"code":"import axios from 'axios';\nexport default {\n  methods: {\n    handleFileChange(file) {\n      if (!file) return;\n      const reader = new FileReader();\n      // const filename = file.name; // 获取文件名\n\n      reader.onloadend = () => {\n        this.uploadFile(reader.result);\n      };\n      reader.readAsDataURL(file.raw); // 读取文件并转换为 base64\n    },\n    uploadFile(fileData) {\n      // 这里发送 AJAX 请求\n      axios.post('login', {\n        file: fileData\n      }).then(response => {\n        console.log('上传成功', response);\n      }).catch(error => {\n        console.error('上传失败', error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","methods","handleFileChange","file","reader","FileReader","onloadend","uploadFile","result","readAsDataURL","raw","fileData","post","then","response","console","log","catch","error"],"sources":["/home/workspace/vueProject/my-vue-project/src/components/HelloUpdate.vue"],"sourcesContent":["<template>\r\n    <el-upload\r\n      drag\r\n      :auto-upload=\"false\"\r\n      :on-change=\"handleFileChange\"\r\n    > \r\n    </el-upload>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  export default {\r\n    methods: {\r\n      handleFileChange(file) {\r\n        if (!file) return;\r\n        const reader = new FileReader();\r\n        // const filename = file.name; // 获取文件名\r\n  \r\n        reader.onloadend = () => {\r\n          this.uploadFile(reader.result);\r\n        };\r\n  \r\n        reader.readAsDataURL(file.raw); // 读取文件并转换为 base64\r\n      },\r\n      uploadFile(fileData) {\r\n        // 这里发送 AJAX 请求\r\n        axios.post('login', {\r\n          file: fileData,\r\n        }).then(response => {\r\n          console.log('上传成功', response);\r\n        }).catch(error => {\r\n          \r\n          console.error('上传失败', error);\r\n        });\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  "],"mappings":"AAUE,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,OAAO,EAAE;IACPC,gBAAgBA,CAACC,IAAI,EAAE;MACrB,IAAI,CAACA,IAAI,EAAE;MACX,MAAMC,MAAK,GAAI,IAAIC,UAAU,CAAC,CAAC;MAC/B;;MAEAD,MAAM,CAACE,SAAQ,GAAI,MAAM;QACvB,IAAI,CAACC,UAAU,CAACH,MAAM,CAACI,MAAM,CAAC;MAChC,CAAC;MAEDJ,MAAM,CAACK,aAAa,CAACN,IAAI,CAACO,GAAG,CAAC,EAAE;IAClC,CAAC;IACDH,UAAUA,CAACI,QAAQ,EAAE;MACnB;MACAX,KAAK,CAACY,IAAI,CAAC,OAAO,EAAE;QAClBT,IAAI,EAAEQ;MACR,CAAC,CAAC,CAACE,IAAI,CAACC,QAAO,IAAK;QAClBC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEF,QAAQ,CAAC;MAC/B,CAAC,CAAC,CAACG,KAAK,CAACC,KAAI,IAAK;QAEhBH,OAAO,CAACG,KAAK,CAAC,MAAM,EAAEA,KAAK,CAAC;MAC9B,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}