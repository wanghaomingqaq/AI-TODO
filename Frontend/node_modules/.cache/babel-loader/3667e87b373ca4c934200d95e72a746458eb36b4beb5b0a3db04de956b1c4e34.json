{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-469af010\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_Loading = _resolveComponent(\"Loading\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_el_select, {\n    modelValue: $data.selectedMsgId,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedMsgId = $event),\n    placeholder: \"选择msg ID\",\n    size: \"small\",\n    style: {\n      \"float\": \"right\",\n      \"margin-top\": \"10px\"\n    }\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.msgIdOptions, item => {\n      return _openBlock(), _createBlock(_component_el_option, {\n        key: item.value,\n        label: item.label,\n        value: item.value\n      }, null, 8 /* PROPS */, [\"label\", \"value\"]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_el_row, {\n    class: \"component-container\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_col, {\n      span: 1\n    }), _createVNode(_component_el_col, {\n      span: 22\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_el_input, {\n        type: \"textarea\",\n        autosize: {\n          minRows: 3,\n          maxRows: 6\n        },\n        modelValue: $data.localInput,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.localInput = $event),\n        placeholder: \"说说今天做点什么吧！\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]), _createVNode(_component_el_row, null, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 21\n        }, {\n          default: _withCtx(() => [$data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createTextVNode(\" 加载中... \"), _createVNode(_component_el_icon, {\n            class: \"is-loading\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_Loading)]),\n            _: 1 /* STABLE */\n          })])) : _createCommentVNode(\"v-if\", true)]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_col, {\n          span: 3\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_button, {\n            type: \"danger\",\n            round: \"\",\n            onClick: $options.submitText,\n            style: {\n              \"margin-top\": \"5px\"\n            }\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" 发送 \")]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_col, {\n      span: 1\n    })]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_el_row, {\n    style: {\n      \"background-color\": \"#f1f2f5\",\n      \"height\": \"15px\",\n      \"margin-left\": \"-20px\",\n      \"margin-right\": \"-20px\"\n    }\n  })], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["key","_createElementBlock","_Fragment","_createVNode","_component_el_select","modelValue","$data","selectedMsgId","_cache","$event","placeholder","size","style","default","_withCtx","_renderList","msgIdOptions","item","_createBlock","_component_el_option","value","label","_","_component_el_row","class","_component_el_col","span","_createElementVNode","_component_el_input","type","autosize","minRows","maxRows","localInput","loading","_hoisted_1","_createTextVNode","_component_el_icon","_component_Loading","_createCommentVNode","_component_el_button","round","onClick","$options","submitText"],"sources":["/home/workspace/vueProject/my-vue-project/src/components/HelloWorld.vue"],"sourcesContent":["<template>\n    <el-select\n    v-model=\"selectedMsgId\"\n    placeholder=\"选择msg ID\"\n    size=\"small\"\n    style=\"float: right; margin-top: 10px;\"\n  >\n  <el-option\n    v-for=\"item in msgIdOptions\"\n    :key=\"item.value\"\n    :label=\"item.label\"\n    :value=\"item.value\"\n  ></el-option>\n</el-select>\n  <el-row class=\"component-container\">\n    <el-col :span=\"1\">\n    </el-col>\n    <el-col :span=\"22\">\n      <div>\n        <el-input type=\"textarea\" :autosize=\"{ minRows: 3, maxRows: 6 }\" v-model=\"localInput\" placeholder=\"说说今天做点什么吧！\">\n        </el-input>\n      </div>\n      <el-row>\n        <el-col :span=\"21\">\n          <div v-if=\"loading\">\n            加载中...\n            <el-icon class=\"is-loading\"><Loading /></el-icon>\n          </div>\n        </el-col>\n        <el-col :span=\"3\">\n          <el-button type=\"danger\" round @click=\"submitText\" style=\"margin-top: 5px;\">\n            发送\n          </el-button>\n        </el-col>\n      </el-row>\n    </el-col>\n    <el-col :span=\"1\"></el-col>\n  </el-row>\n  <el-row style=\"background-color: #f1f2f5; height: 15px; margin-left: -20px;  margin-right: -20px;\"></el-row>  \n</template>\n\n\n<script>\nimport axios from 'axios';\nimport {nanoid} from 'nanoid'\nimport { ElMessage } from 'element-plus'\nconst open4 = (errormsg) => {\n  ElMessage.error(errormsg)\n}\nexport default {\n  name: 'HelloWorld',\n  data() {\n    return {\n      localInput: '', // 用于文本框的本地数据\n      recivedata: [],\n      showMessage: false,\n      loading: false,\n      msgIdOptions: [\n        { label: '通义千问', value: 5 },\n        { label: '本地大模型', value: 7 }\n      ],\n      // 新增：用于存储选中的msgId\n      selectedMsgId: 5 // 默认值与初始选项匹配\n    };\n  },\n  props:['addTodo'],\n  methods: {\n\n    submitText() {\n      this.loading = true;\n\n      const dataTosend = {\n        text: this.localInput,\n        msgid: this.selectedMsgId\n\n      };\n      axios.post('/login', dataTosend)\n        .then(response => {\n          console.log('服务器响应:', response.data);\n          this.recivedata = response.data.todos;\n          this.showMessage = true;\n          // 处理服务器的响应\n          this.loading = false;\n          this.localInput = ''\n          // this.$emit('inputSubmitted', this.recivedata); // 向父组件发送事件\n          // const todoObj = {id:nanoid(),title:this.recivedata,done:false}\n          const todoObj = this.recivedata.map(item => {\n            return {\n              id: nanoid(),\n              title: item,\n              done: false\n            };\n          });\n          this.recivedata = ''\n          console.log(todoObj)\n          if (todoObj[0].title !== 'null') {\n            this.addTodo(todoObj);\n          } else {\n            open4(\"未提取到关键词！\")\n          }\n        })\n        .catch(error => {\n          const errorMessage = error.message; \n          open4(errorMessage)\n          console.error('请求错误:', error);\n          this.loading = false;\n          // 处理错误ee\n        });\n    },\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n::v-deep .el-textarea__inner{\n    border-radius: 10px;      /* 圆角 */\n    background-color: #f0f1f4; /* 背景颜色，可根据需要更改颜色值 */\n}\n.is-loading {\n  animation: rotate 2s linear infinite;\n}\n@keyframes rotate {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n</style>\n"],"mappings":";;;EAAAA,GAAA;AAAA;;;;;;;;;;uBAAAC,mBAAA,CAAAC,SAAA,SACIC,YAAA,CAYQC,oBAAA;IAbZC,UAAA,EAEaC,KAAA,CAAAC,aAAa;IAF1B,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAEaH,KAAA,CAAAC,aAAa,GAAAE,MAAA;IACtBC,WAAW,EAAC,UAAU;IACtBC,IAAI,EAAC,OAAO;IACZC,KAAuC,EAAvC;MAAA;MAAA;IAAA;;IALJC,OAAA,EAAAC,QAAA,CAQI,MAA4B,E,kBAD9Bb,mBAAA,CAKaC,SAAA,QAZfa,WAAA,CAQmBT,KAAA,CAAAU,YAAY,EAApBC,IAAI;2BADbC,YAAA,CAKaC,oBAAA;QAHVnB,GAAG,EAAEiB,IAAI,CAACG,KAAK;QACfC,KAAK,EAAEJ,IAAI,CAACI,KAAK;QACjBD,KAAK,EAAEH,IAAI,CAACG;;;IAXjBE,CAAA;qCAcEnB,YAAA,CAuBSoB,iBAAA;IAvBDC,KAAK,EAAC;EAAqB;IAdrCX,OAAA,EAAAC,QAAA,CAeI,MACS,CADTX,YAAA,CACSsB,iBAAA;MADAC,IAAI,EAAE;IAAC,IAEhBvB,YAAA,CAkBSsB,iBAAA;MAlBAC,IAAI,EAAE;IAAE;MAjBrBb,OAAA,EAAAC,QAAA,CAkBM,MAGM,CAHNa,mBAAA,CAGM,cAFJxB,YAAA,CACWyB,mBAAA;QADDC,IAAI,EAAC,UAAU;QAAEC,QAAQ,EAAE;UAAAC,OAAA;UAAAC,OAAA;QAAA,CAA0B;QAnBvE3B,UAAA,EAmBkFC,KAAA,CAAA2B,UAAU;QAnB5F,uBAAAzB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAmBkFH,KAAA,CAAA2B,UAAU,GAAAxB,MAAA;QAAEC,WAAW,EAAC;iDAGpGP,YAAA,CAYSoB,iBAAA;QAlCfV,OAAA,EAAAC,QAAA,CAuBQ,MAKS,CALTX,YAAA,CAKSsB,iBAAA;UALAC,IAAI,EAAE;QAAE;UAvBzBb,OAAA,EAAAC,QAAA,CAwBU,MAGM,CAHKR,KAAA,CAAA4B,OAAO,I,cAAlBjC,mBAAA,CAGM,OA3BhBkC,UAAA,GAAAC,gBAAA,CAwB8B,UAElB,GAAAjC,YAAA,CAAiDkC,kBAAA;YAAxCb,KAAK,EAAC;UAAY;YA1BvCX,OAAA,EAAAC,QAAA,CA0BwC,MAAW,CAAXX,YAAA,CAAWmC,kBAAA,E;YA1BnDhB,CAAA;kBAAAiB,mBAAA,e;UAAAjB,CAAA;YA6BQnB,YAAA,CAISsB,iBAAA;UAJAC,IAAI,EAAE;QAAC;UA7BxBb,OAAA,EAAAC,QAAA,CA8BU,MAEY,CAFZX,YAAA,CAEYqC,oBAAA;YAFDX,IAAI,EAAC,QAAQ;YAACY,KAAK,EAAL,EAAK;YAAEC,OAAK,EAAEC,QAAA,CAAAC,UAAU;YAAEhC,KAAwB,EAAxB;cAAA;YAAA;;YA9B7DC,OAAA,EAAAC,QAAA,CA8BsF,MAE5E,CAhCVsB,gBAAA,CA8BsF,MAE5E,E;YAhCVd,CAAA;;UAAAA,CAAA;;QAAAA,CAAA;;MAAAA,CAAA;QAoCInB,YAAA,CAA2BsB,iBAAA;MAAlBC,IAAI,EAAE;IAAC,G;IApCpBJ,CAAA;MAsCEnB,YAAA,CAA4GoB,iBAAA;IAApGX,KAA0F,EAA1F;MAAA;MAAA;MAAA;MAAA;IAAA;EAA0F,G","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}