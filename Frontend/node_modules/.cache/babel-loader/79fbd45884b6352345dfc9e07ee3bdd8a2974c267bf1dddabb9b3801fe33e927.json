{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"DoLogin\",\n  data() {\n    return {\n      user: {\n        username: \"\",\n        password: \"\"\n      }\n    };\n  },\n  created() {},\n  methods: {\n    doLogin() {\n      if (!this.user.username) {\n        this.$message.error(\"请输入用户名！\");\n        return;\n      } else if (!this.user.password) {\n        this.$message.error(\"请输入密码！\");\n        return;\n      } else {\n        //校验用户名和密码是否正确;\n        // this.$router.push({ path: \"/personal\" });\n        const loginId = parseInt(this.user.username, 10);\n        axios.post(\"/login/\", {\n          id: loginId,\n          password: this.user.password,\n          msgid: 1\n        }).then(res => {\n          // console.log(\"输出response.data.status\", res.data.status);\n          console.log(res.data);\n          if (res.data.errno === 0) {\n            this.$router.push({\n              path: \"/personal\"\n            });\n          } else {\n            alert(res.data.errmsg);\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","user","username","password","created","methods","doLogin","$message","error","loginId","parseInt","post","id","msgid","then","res","console","log","errno","$router","push","path","alert","errmsg"],"sources":["/home/workspace/vueProject/my-vue-project/src/components/DoLogin.vue"],"sourcesContent":["<template>\n    <div class=\"login\" clearfix>\n      <div class=\"login-wrap\">\n        <el-row type=\"flex\" justify=\"center\">\n          <el-form ref=\"loginForm\" :model=\"user\" :rules=\"rules\" status-icon label-width=\"80px\">\n            <h3>登录</h3>\n            <hr>\n            <el-form-item prop=\"username\" label=\"用户id\">\n              <el-input type=\"text\" v-model=\"user.username\" placeholder=\"请输入用户id\" prefix-icon></el-input>\n            </el-form-item>\n            <el-form-item id=\"password\" prop=\"password\" label=\"密码\">\n              <el-input v-model=\"user.password\" show-password placeholder=\"请输入密码\"></el-input>\n            </el-form-item>\n            <router-link to=\"/register\">注册账号</router-link>\n            <el-form-item>\n              <el-button type=\"primary\" icon=\"el-icon-upload\" @click=\"doLogin()\">登 录</el-button>\n            </el-form-item>\n          </el-form>\n        </el-row>\n      </div>\n    </div>\n  </template>\n   \n  <script>\n  import axios from \"axios\";\n  export default {\n    name: \"DoLogin\",\n    data() {\n      return {\n        user: {\n          username: \"\",\n          password: \"\"\n        }  \n      };\n    },\n    created() {},\n    methods: {\n      doLogin() {\n        if (!this.user.username) {\n          this.$message.error(\"请输入用户名！\");\n          return;\n        } else if (!this.user.password) {\n          this.$message.error(\"请输入密码！\");\n          return;\n        } else {\n          //校验用户名和密码是否正确;\n          // this.$router.push({ path: \"/personal\" });\n          const loginId = parseInt(this.user.username, 10);\n\n          axios\n            .post(\"/login/\", {\n              id: loginId,\n              password: this.user.password,\n              msgid: 1\n            })\n            .then(res => {\n              // console.log(\"输出response.data.status\", res.data.status);\n              console.log(res.data)\n              if (res.data.errno === 0) {\n                this.$router.push({ path: \"/personal\" });\n              } else {\n                alert(res.data.errmsg);\n              }\n            });\n        }\n      }\n    }\n  };\n  </script>\n   \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped>\n  .login {\n    width: 100%;\n    height: 740px;\n    background: url(\"../assets/images/bg1.png\") no-repeat;\n    background-size: cover;\n    overflow: hidden;\n  }\n  .login-wrap {\n    background: url(\"../assets/images/login_bg.png\") no-repeat;\n    background-size: cover;\n    width: 400px;\n    height: 300px;\n    margin: 215px auto;\n    overflow: hidden;\n    padding-top: 10px;\n    line-height: 40px;\n  }\n  #password {\n    margin-bottom: 5px;\n  }\n  h3 {\n    color: #0babeab8;\n    font-size: 24px;\n  }\n  hr {\n    background-color: #444;\n    margin: 20px auto;\n  }\n  a {\n    text-decoration: none;\n    color: #aaa;\n    font-size: 15px;\n  }\n  a:hover {\n    color: coral;\n  }\n  .el-button {\n    width: 80%;\n    margin-left: -50px;\n  }\n  </style>"],"mappings":";AAwBE,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,IAAI,EAAE,SAAS;EACfC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE;MACZ;IACF,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG,CAAC,CAAC;EACZC,OAAO,EAAE;IACPC,OAAOA,CAAA,EAAG;MACR,IAAI,CAAC,IAAI,CAACL,IAAI,CAACC,QAAQ,EAAE;QACvB,IAAI,CAACK,QAAQ,CAACC,KAAK,CAAC,SAAS,CAAC;QAC9B;MACF,OAAO,IAAI,CAAC,IAAI,CAACP,IAAI,CAACE,QAAQ,EAAE;QAC9B,IAAI,CAACI,QAAQ,CAACC,KAAK,CAAC,QAAQ,CAAC;QAC7B;MACF,OAAO;QACL;QACA;QACA,MAAMC,OAAM,GAAIC,QAAQ,CAAC,IAAI,CAACT,IAAI,CAACC,QAAQ,EAAE,EAAE,CAAC;QAEhDJ,KAAI,CACDa,IAAI,CAAC,SAAS,EAAE;UACfC,EAAE,EAAEH,OAAO;UACXN,QAAQ,EAAE,IAAI,CAACF,IAAI,CAACE,QAAQ;UAC5BU,KAAK,EAAE;QACT,CAAC,EACAC,IAAI,CAACC,GAAE,IAAK;UACX;UACAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACf,IAAI;UACpB,IAAIe,GAAG,CAACf,IAAI,CAACkB,KAAI,KAAM,CAAC,EAAE;YACxB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;cAAEC,IAAI,EAAE;YAAY,CAAC,CAAC;UAC1C,OAAO;YACLC,KAAK,CAACP,GAAG,CAACf,IAAI,CAACuB,MAAM,CAAC;UACxB;QACF,CAAC,CAAC;MACN;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}