{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-87f976c4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"login\",\n  clearfix: \"\"\n};\nconst _hoisted_2 = {\n  class: \"login-wrap\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, \"登录\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_row, {\n    type: \"flex\",\n    justify: \"center\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      ref: \"loginForm\",\n      model: $data.user,\n      rules: _ctx.rules,\n      \"status-icon\": \"\",\n      \"label-width\": \"80px\"\n    }, {\n      default: _withCtx(() => [_hoisted_3, _hoisted_4, _createVNode(_component_el_form_item, {\n        prop: \"username\",\n        label: \"用户id\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          type: \"text\",\n          modelValue: $data.user.username,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.user.username = $event),\n          placeholder: \"请输入用户id\",\n          \"prefix-icon\": \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        id: \"password\",\n        prop: \"password\",\n        label: \"密码\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.user.password,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.user.password = $event),\n          \"show-password\": \"\",\n          placeholder: \"请输入密码\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_router_link, {\n        to: \"/register\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"注册账号\")]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          icon: \"el-icon-upload\",\n          onClick: _cache[2] || (_cache[2] = $event => $options.doLogin())\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"登 录\")]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"model\", \"rules\"])]),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"names":["class","clearfix","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_el_row","type","justify","default","_withCtx","_component_el_form","ref","model","$data","user","rules","_ctx","_hoisted_3","_hoisted_4","_component_el_form_item","prop","label","_component_el_input","modelValue","username","_cache","$event","placeholder","_","id","password","_component_router_link","to","_createTextVNode","_component_el_button","icon","onClick","$options","doLogin"],"sources":["/home/workspace/vueProject/my-vue-project/src/components/DoLogin.vue"],"sourcesContent":["<template>\n    <div class=\"login\" clearfix>\n      <div class=\"login-wrap\">\n        <el-row type=\"flex\" justify=\"center\">\n          <el-form ref=\"loginForm\" :model=\"user\" :rules=\"rules\" status-icon label-width=\"80px\">\n            <h3>登录</h3>\n            <hr>\n            <el-form-item prop=\"username\" label=\"用户id\">\n              <el-input type=\"text\" v-model=\"user.username\" placeholder=\"请输入用户id\" prefix-icon></el-input>\n            </el-form-item>\n            <el-form-item id=\"password\" prop=\"password\" label=\"密码\">\n              <el-input v-model=\"user.password\" show-password placeholder=\"请输入密码\"></el-input>\n            </el-form-item>\n            <router-link to=\"/register\">注册账号</router-link>\n            <el-form-item>\n              <el-button type=\"primary\" icon=\"el-icon-upload\" @click=\"doLogin()\">登 录</el-button>\n            </el-form-item>\n          </el-form>\n        </el-row>\n      </div>\n    </div>\n  </template>\n   \n  <script>\n  import axios from \"axios\";\n  export default {\n    name: \"DoLogin\",\n    data() {\n      return {\n        user: {\n          username: \"\",\n          password: \"\"\n        }  \n      };\n    },\n    created() {},\n    methods: {\n      doLogin() {\n        if (!this.user.username) {\n          this.$message.error(\"请输入用户名！\");\n          return;\n        } else if (!this.user.password) {\n          this.$message.error(\"请输入密码！\");\n          return;\n        } else {\n          //校验用户名和密码是否正确;\n          // this.$router.push({ path: \"/personal\" });\n          const loginId = parseInt(this.user.username, 10);\n\n          axios\n            .post(\"/login/\", {\n              id: loginId,\n              password: this.user.password,\n              msgid: 1\n            })\n            .then(res => {\n              // console.log(\"输出response.data.status\", res.data.status);\n              if (res.data.errno === 0) {\n                this.$router.push({ path: \"/personal\" });\n              } else {\n                alert(\"您输入的用户名或密码错误！\");\n              }\n            });\n        }\n      }\n    }\n  };\n  </script>\n   \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped>\n  .login {\n    width: 100%;\n    height: 740px;\n    background: url(\"../assets/images/bg1.png\") no-repeat;\n    background-size: cover;\n    overflow: hidden;\n  }\n  .login-wrap {\n    background: url(\"../assets/images/login_bg.png\") no-repeat;\n    background-size: cover;\n    width: 400px;\n    height: 300px;\n    margin: 215px auto;\n    overflow: hidden;\n    padding-top: 10px;\n    line-height: 40px;\n  }\n  #password {\n    margin-bottom: 5px;\n  }\n  h3 {\n    color: #0babeab8;\n    font-size: 24px;\n  }\n  hr {\n    background-color: #444;\n    margin: 20px auto;\n  }\n  a {\n    text-decoration: none;\n    color: #aaa;\n    font-size: 15px;\n  }\n  a:hover {\n    color: coral;\n  }\n  .el-button {\n    width: 80%;\n    margin-left: -50px;\n  }\n  </style>"],"mappings":";;;EACSA,KAAK,EAAC,OAAO;EAACC,QAAQ,EAAR;;;EACZD,KAAK,EAAC;AAAY;gEAGjBE,mBAAA,CAAW,YAAP,IAAE;gEACNA,mBAAA,CAAI;;;;;;;;uBALZC,mBAAA,CAmBM,OAnBNC,UAmBM,GAlBJF,mBAAA,CAiBM,OAjBNG,UAiBM,GAhBJC,YAAA,CAeSC,iBAAA;IAfDC,IAAI,EAAC,MAAM;IAACC,OAAO,EAAC;;IAHpCC,OAAA,EAAAC,QAAA,CAIU,MAaU,CAbVL,YAAA,CAaUM,kBAAA;MAbDC,GAAG,EAAC,WAAW;MAAEC,KAAK,EAAEC,KAAA,CAAAC,IAAI;MAAGC,KAAK,EAAEC,IAAA,CAAAD,KAAK;MAAE,aAAW,EAAX,EAAW;MAAC,aAAW,EAAC;;MAJxFP,OAAA,EAAAC,QAAA,CAKY,MAAW,CAAXQ,UAAW,EACXC,UAAI,EACJd,YAAA,CAEee,uBAAA;QAFDC,IAAI,EAAC,UAAU;QAACC,KAAK,EAAC;;QAPhDb,OAAA,EAAAC,QAAA,CAQc,MAA2F,CAA3FL,YAAA,CAA2FkB,mBAAA;UAAjFhB,IAAI,EAAC,MAAM;UARnCiB,UAAA,EAQ6CV,KAAA,CAAAC,IAAI,CAACU,QAAQ;UAR1D,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAQ6Cb,KAAA,CAAAC,IAAI,CAACU,QAAQ,GAAAE,MAAA;UAAEC,WAAW,EAAC,SAAS;UAAC,aAAW,EAAX;;QARlFC,CAAA;UAUYxB,YAAA,CAEee,uBAAA;QAFDU,EAAE,EAAC,UAAU;QAACT,IAAI,EAAC,UAAU;QAACC,KAAK,EAAC;;QAV9Db,OAAA,EAAAC,QAAA,CAWc,MAA+E,CAA/EL,YAAA,CAA+EkB,mBAAA;UAX7FC,UAAA,EAWiCV,KAAA,CAAAC,IAAI,CAACgB,QAAQ;UAX9C,uBAAAL,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAWiCb,KAAA,CAAAC,IAAI,CAACgB,QAAQ,GAAAJ,MAAA;UAAE,eAAa,EAAb,EAAa;UAACC,WAAW,EAAC;;QAX1EC,CAAA;UAaYxB,YAAA,CAA8C2B,sBAAA;QAAjCC,EAAE,EAAC;MAAW;QAbvCxB,OAAA,EAAAC,QAAA,CAawC,MAAI,CAb5CwB,gBAAA,CAawC,MAAI,E;QAb5CL,CAAA;UAcYxB,YAAA,CAEee,uBAAA;QAhB3BX,OAAA,EAAAC,QAAA,CAec,MAAkF,CAAlFL,YAAA,CAAkF8B,oBAAA;UAAvE5B,IAAI,EAAC,SAAS;UAAC6B,IAAI,EAAC,gBAAgB;UAAEC,OAAK,EAAAX,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEW,QAAA,CAAAC,OAAO;;UAf7E9B,OAAA,EAAAC,QAAA,CAeiF,MAAG,CAfpFwB,gBAAA,CAeiF,KAAG,E;UAfpFL,CAAA;;QAAAA,CAAA;;MAAAA,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}